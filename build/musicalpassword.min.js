/*! musicalpassword 2018-12-20 */

!function(r,e,t,n){var l,s="musicalPassword",c=[],u=0,f={"so-c":"s0c.mp3","so-d":"s0d.mp3","so-e":"s0e.mp3","so-f":"s0f.mp3","so-g":"s0g.mp3","so-a":"s0a.mp3","so-b":"s0b.mp3","fo-c":"f0c.mp3"},o={"so-c":"C","so-d":"D","so-e":"E","so-f":"F","so-g":"G","so-a":"A","so-b":"B","fo-c":"C"},p={"so-c":"P)x!6r","so-d":"R8b]e6","so-e":"FQz_8s","so-f":"zy3-Bv","so-g":"p#2W9A","so-a":"2<r@R9","so-b":"5ZgR_7","fo-c":"5?+xU$"},d={offset:30,timer:!1,assetsBaseDir:"./assets/",identifier:"default"};function i(e,t){this.element=e,this.settings=r.extend({},d,t),this._defaults=d,this._name=s,this.init()}r.extend(i.prototype,{init:function(){var i=this;function s(){r(".wf-mp-keyboard").css({display:"none"})}function a(e){var t=r(i.element),n=t.val()+e;t.val(n),console.log("element value is: "+t.val())}console.log("plugin started..."),r(this.element).attr("readOnly","readOnly"),this.keyboard=r(function(){var e='<div class="wf-mp-keyboard">';return e+='<br><input class="wf-mp-clear" type="button" value="Clear">',i.settings.timer&&(e+='<input class="wf-done-button" type="button" value="Done">'),e+="</div>"}()),r(t.body).append(this.keyboard),r(this.element).on("click",function(){console.log(i.settings);var e=r(i.element).offset(),t=e.top+d.offset;return function(e,t){if(t.find(".wf-mp-keys").length<=0){var n=function(){var e="",t=0;for(var n in o)4==t&&(e+="<br>"),e+=(void 0,'<span class="wf-mp-keys" data-key="'+n+'">'+o[n]+"</span>"),t++;return e}();t.prepend(n),t.on("click",".wf-mp-keys",function(e){return function(e,t){e.stopPropagation();var n=r(t).data("key");null!==f[n]&&(s=f[n],o=i.settings.assetsBaseDir+s,new Audio(o).play(),a(p[n]),i.settings.timer&&(c.push(u),a(u),console.log("Current time "+u),clearInterval(l),u=0,l=setInterval(function(){u++},1e3)));var s,o}(e,this),!1}),t.on("click",".wf-mp-clear",function(){return r(i.element).trigger("clearinput.musicalpassword"),r(i.element).attr("value",""),r(i.element).val(""),!1}),t.on("click",".wf-done-button",function(){return r(i.element).trigger("donebuttonpressed.musicalpassword"),console.log("Done button pressed"),clearInterval(l),c.push(u),console.log("Current time "+u),u=0,s(),!1})}}(0,i.keyboard),s(),i.keyboard.css({display:"inline-block",top:t+"px",left:e.left+"px"}),!1}),r(t).on("click",function(){s()}),r(this.element).on("keydown",function(e){e.keyCode||e.charCode;return!1})}}),r.fn[s]=function(e){return this.each(function(){r.data(this,"plugin_"+s)||r.data(this,"plugin_"+s,new i(this,e))})}}(jQuery,window,document);